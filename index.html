<!DOCTYPE html>
<html>
<head>
	<title>One Ring</title>
</head>
<body>
<div id="Ring"></div>
<script type="text/javascript" src="vendor/mithril.min.js"></script>
<script type="text/javascript">

//assuming these as private arrays
var videos = ['video1','video2','video3'];
var songs = ['song1','song2','song3'];
var model = {};

//assuming these as public apis
model.allVideos = function () {
    return videos;
};
model.allSongs = function () {
    return songs;
}
model.addVideo = function (new_item) {
    videos.push(new_item);
};
model.addSong = function (new_item) {
    songs.push(new_item);
};


var template = {
    addV : function (new_item) {
        model.addVideo(new_item);
    },
    addS : function (new_item) {
        model.addSong(new_item);
    },
    controller: function () {
        return {
            addV : template.addV,
            addS : template.addS
        }
    },
    view: function(ctrl) {
        return m.component(thumbLists,{addV : ctrl.addV, addS : ctrl.addS});    
    }
};



var thumbLists = {
    controller : function (attr) {

    },
    view : function (ctrl,attr) {
        return m("div",[
                    m.component(thumb,{display : model.allVideos, add : attr.addV}),
                    m.component(thumb,{display : model.allSongs, add : attr.addS})
                ]);
    }
};

var thumb = {
    controller: function (attrs) { 
    },
    view : function (ctrl,attrs) {
        return m("div", [
            m("ul",[
                attrs.display().map(function(item) {
                return m("li", [
                    m("div", item)                    
                ])
            })]),
            m("Button",{onclick : function () { attrs.add("new item");}},"Add")            
        ]);
    }
};


m.mount(document.body,template);




</script>
</body>
</html>